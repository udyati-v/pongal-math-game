<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sankranti Math Harvest</title>

<style>
body{
  margin:0;
  font-family: "Segoe UI", sans-serif;
  background: linear-gradient(#6b0000,#b23a00,#e08b00);
  min-height:100vh;
  color:white;
  overflow:hidden;
}

/* BACKGROUND ELEMENTS */
.sun{
  position:absolute;
  top:80px;
  right:30px;
  width:160px;
  height:160px;
  background:radial-gradient(circle,#ffdb4d,#ff9800);
  border-radius:50%;
  opacity:0.3;
}
.sugarcane{
  position:absolute;
  bottom:0;
  left:20px;
  width:14px;
  height:65%;
  background:#1faa59;
}
.pongal{
  position:absolute;
  bottom:30px;
  right:30px;
  width:90px;
  height:60px;
  background:#b71c1c;
  border-radius:0 0 50px 50px;
}

/* CARD */
.card{
  background:rgba(0,0,0,0.45);
  max-width:420px;
  margin:90px auto;
  padding:25px;
  border-radius:18px;
  box-shadow:0 15px 40px rgba(0,0,0,0.5);
}

/* START PAGE */
#startPage h2{
  text-align:center;
  margin-bottom:10px;
}
#startPage p{
  text-align:center;
  font-size:0.95rem;
}
input{
  width:100%;
  padding:12px;
  border-radius:8px;
  border:none;
  font-size:1rem;
  margin-top:10px;
}
button{
  width:100%;
  margin-top:15px;
  padding:12px;
  border:none;
  border-radius:8px;
  font-size:1rem;
  cursor:pointer;
}
.start-btn{
  background:#0f8f2f;
  color:white;
}
.start-btn:disabled{
  background:#555;
  cursor:not-allowed;
}

/* GAME */
.hidden{display:none;}
.question-title{
  font-size:1.2rem;
  margin-bottom:10px;
}
.question-text{
  white-space:pre-line;
  line-height:1.5;
}
.submit-btn{background:#0f8f2f;color:white;}
.timer-score{
  display:flex;
  justify-content:space-between;
  margin-top:15px;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="sun"></div>
<div class="sugarcane"></div>
<div class="pongal"></div>

<!-- START PAGE -->
<div class="card" id="startPage">
  <h2>Sankranti Math Harvest üåæ</h2>
  <p>
    Beat the Clock ‚è∞Ô∏è! Solve More ‚ûïÔ∏è score more ‚ú®Ô∏è,<br>
    top 3 wins prizes üèÜ
  </p>
  <input id="playerName" placeholder="Enter your name"/>
  <button class="start-btn" id="startBtn" disabled>Start Game</button>
</div>

<!-- GAME PAGE -->
<div class="card hidden" id="gamePage">
  <div class="question-title" id="qNumber"></div>
  <div class="question-text" id="qText"></div>

  <input id="answerInput" placeholder="Type your answer"/>
  <button class="submit-btn" onclick="submitAnswer()">Submit</button>

  <div class="timer-score">
    <div>‚è≥ Time: <span id="time">2:30</span></div>
    <div>‚≠ê Score: <span id="score">0</span></div>
  </div>
</div>

<script>
/* PREVENT REPLAY AFTER COMPLETION */
if(localStorage.getItem("completedGame")==="yes"){
  alert("You have already completed the game.");
  document.body.innerHTML="";
}

/* START LOGIC */
const startBtn=document.getElementById("startBtn");
const nameInput=document.getElementById("playerName");

nameInput.addEventListener("input",()=>{
  startBtn.disabled = nameInput.value.trim()==="";
});

startBtn.onclick=()=>{
  localStorage.setItem("playerName",nameInput.value.trim());
  document.getElementById("startPage").classList.add("hidden");
  document.getElementById("gamePage").classList.remove("hidden");
  startTimer();
  loadQuestion();
};

/* QUESTIONS (UNCHANGED WORDING) */
const questions=[
`Start sweet: Brownie questions for Sihi huggi bonus points!

What does July ‚Äì June signify:
a) Crop year
b) Financial year
c) Academic year`,

`Pi hide & seek! Spot the pi in the invite
a) Temple
b) Stove
c) Sugarcane`,

`Spot the handsome duo in this flyer?
(Hint: One cracked equations in dreams, the other is the Father of Indian Mathematics!)
a) Harish Chandra and Bhaskaracharya
b) P.C. Mahalanobis and Satyendra Nath Bose
c) Srinivasa Ramanujan and Aryabhata`,

`What does Sankranti signify astronomically?
a) Full moon day
b) Sun‚Äôs transition into Capricorn (Makara Rashi)
c) Start of winter
d) Spring equinox`,

`Why are kites flown during Sankranti?
a) For entertainment only
b) To scare birds away
c) To mark the monsoon season
d) To welcome the Sun‚Äôs northward journey (Uttarayan)`,

`Stove ain't apple pieüòÇ, it‚Äôs œÄ‚Ä¶ why?
a) Nature‚Äôs infinite harvest loop in life‚Äôs eternal abundance circle
b) Because œÄ represents the number of cashews used in making pongal`,

`Total Harvest = 750 kg
Rice constitutes 40% of the total harvest.
How many kilograms of rice were harvested?
a) 300 kg
b) 250 kg
c) 350 kg`
];

const answers=["a","b","c","b","d","a","a"];

let index=0;
let score=0;
let timeLeft=150;
let timer;

/* TIMER */
function startTimer(){
  timer=setInterval(()=>{
    timeLeft--;
    let m=Math.floor(timeLeft/60);
    let s=timeLeft%60;
    document.getElementById("time").textContent=
      m+":"+(s<10?"0":"")+s;
    if(timeLeft<=0){
      endGame();
    }
  },1000);
}

/* LOAD QUESTION */
function loadQuestion(){
  document.getElementById("qNumber").textContent=
    "Question "+(index+1);
  document.getElementById("qText").textContent=
    questions[index];
}

/* SUBMIT */
function submitAnswer(){
  let user=document.getElementById("answerInput")
    .value.trim().toLowerCase();

  if(user===answers[index]){
    score+=5;
  }else{
    score-=2;
  }

  document.getElementById("score").textContent=score;
  document.getElementById("answerInput").value="";
  index++;

  if(index<questions.length){
    loadQuestion();
  }else{
    endGame();
  }
}

/* END GAME */
function endGame(){
  clearInterval(timer);
  localStorage.setItem("completedGame","yes");
  alert("Game Over! Your score: "+score);
}
</script>

</body>
</html>
